<!doctype html>
<html>
    <head>
        <title>TaskMan</title>
        <link rel="stylesheet" href="styles/clock.css"/>
    </head>
    <body>
        
        <div id="clock" style="display:none;">
        
            <div id="timeLabel"></div>
            <div id="untilLabel">until</div>
            <div id="eventLabel"></div>
            
        </div>
        
        <script src="scripts/jquery.min.js"></script>
        <script>
        
            $.getJSON("clock.json", function(data) {

                $("#eventLabel").text(data.name);
                
                $("#clock").show();
                

                var destTime = Date.parse(data.date);

                setInterval(function() {
                    var now = new Date();

                    var diff = destTime - now;

                    var seconds = Math.floor(diff / 1000);
                    var minutes = Math.floor(seconds / 60);
                    var hours = Math.floor(minutes / 60);

                    seconds = seconds % 60;
                    minutes = minutes % 60;

                    var text = hours + ":" + (minutes < 10 ? "0" + minutes : minutes) + ":" + (seconds < 10 ? "0" + seconds : seconds);

                    $("#timeLabel").text(text);
                }, 200);

            })
            
        </script>
    </body>
</html>